/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mapSimulator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapSimulator */ \"./src/mapSimulator.ts\");\n\nvar MyLogger = /** @class */ (function () {\n    function MyLogger(field) {\n        this.field = field;\n    }\n    MyLogger.prototype.log = function (msg) {\n        this.field.value += msg + \"\\n\";\n    };\n    return MyLogger;\n}());\nvar Board = /** @class */ (function () {\n    function Board(controller) {\n        this.controller = controller;\n    }\n    Board.prototype.update = function (context, patternName, reset) {\n        var _this = this;\n        if (reset === void 0) { reset = true; }\n        context.save();\n        context.translate(50, 100);\n        var map = new _mapSimulator__WEBPACK_IMPORTED_MODULE_0__.DungeonMap(context);\n        map.applyPattern(patternName);\n        map.draw(false);\n        context.translate(600, 0);\n        if (reset) {\n            map.applyMovePattern(patternName);\n            var movePattern = (0,_mapSimulator__WEBPACK_IMPORTED_MODULE_0__.getMovePattern)(patternName);\n            this.controller.querySelectorAll('input').forEach(function (node) {\n                _this.controller.removeChild(node);\n            });\n            movePattern.forEach(function (pattern) {\n                var input = document.createElement('input');\n                input.type = 'number';\n                input.value = String(pattern);\n                _this.controller.appendChild(input);\n                input.addEventListener('change', function () { return _this.update(context, patternName, false); });\n            });\n        }\n        else {\n            var movePattern_1 = [];\n            this.controller.querySelectorAll('input').forEach(function (input) {\n                movePattern_1.push(parseInt(input.value));\n            });\n            map.applyMove(movePattern_1);\n        }\n        map.draw();\n        context.restore();\n    };\n    return Board;\n}());\n(function () {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n        // const myLogger = new MyLogger(document.getElementById('log')! as HTMLTextAreaElement);\n        // myLogger.log('start');\n        var controller = document.getElementById(\"controller\");\n        var canvas = document.getElementById(\"mainBoard\");\n        canvas.width = 1200;\n        canvas.height = 800;\n        var context = canvas.getContext(\"2d\");\n        var selector = document.getElementById(\"patternSelector\");\n        var board = new Board(controller);\n        selector.addEventListener(\"change\", function (event) {\n            board.update(context, event.target.value);\n        });\n        board.update(context, \"p1_s_a\");\n    });\n})();\n\n\n//# sourceURL=webpack://ff14/./src/main.ts?");

/***/ }),

/***/ "./src/mapSimulator.ts":
/*!*****************************!*\
  !*** ./src/mapSimulator.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DungeonMap\": () => (/* binding */ DungeonMap),\n/* harmony export */   \"HieHiePongPong\": () => (/* binding */ HieHiePongPong),\n/* harmony export */   \"PachiPachiPongPong\": () => (/* binding */ PachiPachiPongPong),\n/* harmony export */   \"SoyoSoyoPongPong\": () => (/* binding */ SoyoSoyoPongPong),\n/* harmony export */   \"getMovePattern\": () => (/* binding */ getMovePattern)\n/* harmony export */ });\n/**\n * 10 x 10 のフィールド\n * 外側 1マスはデバフ床\n * ひえひえポンポン\n * ぱちぱちポンポン\n * そよそよポンポン\n */\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar tileSize = 50;\nvar centerX = tileSize * 5;\nvar centerY = tileSize * 5;\nvar BasePongPong = /** @class */ (function () {\n    function BasePongPong(_x, _y, _angle) {\n        if (_angle === void 0) { _angle = 0; }\n        this._x = _x;\n        this._y = _y;\n        this._angle = _angle;\n        this._ix = _x;\n        this._iy = _y;\n        this._iAngle = _angle;\n    }\n    Object.defineProperty(BasePongPong.prototype, \"angle\", {\n        get: function () {\n            return this._angle;\n        },\n        set: function (angle) {\n            this._angle = angle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BasePongPong.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (x) {\n            this._x = x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BasePongPong.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (y) {\n            this._y = y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BasePongPong.prototype.reset = function () {\n        this._x = this._ix;\n        this._y = this._iy;\n        this._angle = this._iAngle;\n    };\n    BasePongPong.prototype.move = function (angle) {\n        this._angle = angle;\n        this._x += tileSize * 2 * Math.cos((Math.PI / 180) * angle);\n        this._y += tileSize * 2 * Math.sin((Math.PI / 180) * angle);\n    };\n    BasePongPong.prototype.draw = function (ctx) {\n        ctx.save();\n        if (this._ix != this._x || this._iy != this._y) {\n            ctx.save();\n            ctx.strokeStyle = 'orange';\n            ctx.fillStyle = 'orange';\n            ctx.beginPath();\n            ctx.arc(this._ix, this._iy, tileSize / 6, 0, Math.PI * 2);\n            ctx.fill();\n            ctx.beginPath();\n            ctx.moveTo(this._ix, this._iy);\n            ctx.lineTo(this.x, this.y);\n            ctx.setLineDash([10, 5]);\n            ctx.stroke();\n            ctx.restore();\n        }\n        ctx.strokeStyle = \"black\";\n        ctx.fillStyle = this.color;\n        ctx.translate(this._x, this._y);\n        ctx.beginPath();\n        ctx.arc(0, 0, tileSize / 3, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.stroke();\n        ctx.restore();\n    };\n    return BasePongPong;\n}());\nvar HieHieEffect = /** @class */ (function () {\n    function HieHieEffect() {\n    }\n    HieHieEffect.prototype.draw = function (ctx, p) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.moveTo(0, 0);\n        ctx.lineTo(tileSize * 10, 0);\n        ctx.lineTo(tileSize * 10, tileSize * 10);\n        ctx.lineTo(0, tileSize * 10);\n        ctx.closePath();\n        ctx.clip();\n        ctx.translate(p.x, p.y);\n        ctx.rotate((Math.PI / 180) * p.angle);\n        ctx.fillStyle = \"rgba(180, 180, 250, 0.5)\";\n        ctx.fillRect(-tileSize * 20, -tileSize, tileSize * 40, tileSize * 2);\n        ctx.fillRect(-tileSize, -tileSize * 20, tileSize * 2, tileSize * 40);\n        ctx.restore();\n    };\n    return HieHieEffect;\n}());\nvar hieHieEffect = new HieHieEffect();\nvar HieHiePongPong = /** @class */ (function (_super) {\n    __extends(HieHiePongPong, _super);\n    function HieHiePongPong(x, y, angle) {\n        if (angle === void 0) { angle = 0; }\n        return _super.call(this, x, y, angle) || this;\n    }\n    Object.defineProperty(HieHiePongPong.prototype, \"color\", {\n        get: function () {\n            return \"rgb(40, 120, 240)\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HieHiePongPong.prototype.drawEffect = function (ctx) {\n        hieHieEffect.draw(ctx, this);\n    };\n    return HieHiePongPong;\n}(BasePongPong));\n\nvar PachiPachiPongPong = /** @class */ (function (_super) {\n    __extends(PachiPachiPongPong, _super);\n    function PachiPachiPongPong(x, y, angle) {\n        if (angle === void 0) { angle = 0; }\n        return _super.call(this, x, y, angle) || this;\n    }\n    Object.defineProperty(PachiPachiPongPong.prototype, \"color\", {\n        get: function () {\n            return \"rgb(200, 200, 40)\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PachiPachiPongPong.prototype.drawEffect = function (ctx) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.moveTo(0, 0);\n        ctx.lineTo(tileSize * 10, 0);\n        ctx.lineTo(tileSize * 10, tileSize * 10);\n        ctx.lineTo(0, tileSize * 10);\n        ctx.closePath();\n        ctx.clip();\n        ctx.fillStyle = \"rgba(160, 140, 30, 0.5)\";\n        ctx.translate(this.x, this.y);\n        ctx.rotate((Math.PI / 180) * (this.angle - 22.5));\n        ctx.strokeStyle = \"black\";\n        for (var i = 0; i < 4; i++) {\n            ctx.rotate((Math.PI / 180) * 45);\n            ctx.beginPath();\n            ctx.moveTo(tileSize * 20, 0);\n            ctx.lineTo(0, 0);\n            ctx.rotate((Math.PI / 180) * 45);\n            ctx.lineTo(tileSize * 20, 0);\n            ctx.closePath();\n            ctx.fill();\n        }\n        ctx.restore();\n    };\n    return PachiPachiPongPong;\n}(BasePongPong));\n\nvar SoyoSoyoPongPong = /** @class */ (function (_super) {\n    __extends(SoyoSoyoPongPong, _super);\n    function SoyoSoyoPongPong(x, y) {\n        return _super.call(this, x, y) || this;\n    }\n    Object.defineProperty(SoyoSoyoPongPong.prototype, \"color\", {\n        get: function () {\n            return \"rgb(20, 200, 80)\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SoyoSoyoPongPong.prototype.drawEffect = function (ctx) {\n        var r = tileSize * 1;\n        ctx.save();\n        ctx.fillStyle = \"rgba(80, 60, 200, 0.5)\";\n        ctx.beginPath();\n        ctx.moveTo(0, 0);\n        ctx.lineTo(tileSize * 10, 0);\n        ctx.lineTo(tileSize * 10, tileSize * 10);\n        ctx.lineTo(0, tileSize * 10);\n        ctx.closePath();\n        ctx.clip();\n        ctx.translate(this.x, this.y);\n        for (var i = 0; i < 4; i++) {\n            ctx.rotate((Math.PI / 180) * 90);\n            ctx.beginPath();\n            ctx.moveTo(tileSize * 20, 0);\n            ctx.lineTo(r, 0);\n            ctx.arcTo(r, r, 0, r, r);\n            ctx.lineTo(0, tileSize * 20);\n            ctx.lineTo(tileSize * 20, tileSize * 20);\n            ctx.closePath();\n            ctx.fill();\n        }\n        ctx.restore();\n    };\n    return SoyoSoyoPongPong;\n}(BasePongPong));\n\nvar phasePattern = {\n    PatternA: [\n        new HieHiePongPong(300, 180),\n        new PachiPachiPongPong(150, 390),\n        new SoyoSoyoPongPong(450, 390),\n    ],\n    p1_s_a: [\n        new PachiPachiPongPong(tileSize * 7, tileSize * 3),\n        new PachiPachiPongPong(tileSize * 3, tileSize * 7),\n        new HieHiePongPong(tileSize * 3, tileSize * 3),\n        new HieHiePongPong(tileSize * 7, tileSize * 7),\n        new SoyoSoyoPongPong(centerX, centerY),\n    ],\n    p1_s_b: [\n        new PachiPachiPongPong(centerX, tileSize * 3),\n        new PachiPachiPongPong(centerX, tileSize * 7),\n        new HieHiePongPong(tileSize * 7, centerY),\n        new HieHiePongPong(tileSize * 3, centerY),\n        new SoyoSoyoPongPong(centerX, centerY),\n    ],\n    p1_s_c: [\n        new PachiPachiPongPong(tileSize * 3, tileSize * 3),\n        new PachiPachiPongPong(tileSize * 7, tileSize * 7),\n        new HieHiePongPong(tileSize * 3, tileSize * 7),\n        new HieHiePongPong(tileSize * 7, tileSize * 3),\n        new SoyoSoyoPongPong(centerX, centerY),\n    ],\n    p1_s_d: [\n        new PachiPachiPongPong(tileSize * 3, centerY),\n        new PachiPachiPongPong(tileSize * 7, centerY),\n        new HieHiePongPong(centerX, tileSize * 3),\n        new HieHiePongPong(centerX, tileSize * 7),\n        new SoyoSoyoPongPong(centerX, centerY),\n    ],\n    p1_h_a: [\n        new PachiPachiPongPong(tileSize * 7, tileSize * 3),\n        new PachiPachiPongPong(tileSize * 3, tileSize * 7),\n        new HieHiePongPong(tileSize * 7, tileSize * 7),\n        new HieHiePongPong(tileSize * 3, tileSize * 3),\n        new HieHiePongPong(centerX, centerY)\n    ],\n    p1_h_b: [\n        new PachiPachiPongPong(centerX, tileSize * 3),\n        new PachiPachiPongPong(centerX, tileSize * 7),\n        new HieHiePongPong(tileSize * 7, centerY),\n        new HieHiePongPong(tileSize * 3, centerY),\n        new HieHiePongPong(centerX, centerY)\n    ],\n    p1_h_c: [\n        new PachiPachiPongPong(tileSize * 3, tileSize * 3),\n        new PachiPachiPongPong(tileSize * 7, tileSize * 7),\n        new HieHiePongPong(tileSize * 3, tileSize * 7),\n        new HieHiePongPong(tileSize * 7, tileSize * 3),\n        new HieHiePongPong(centerX, centerY)\n    ],\n    p1_h_d: [\n        new PachiPachiPongPong(tileSize * 3, centerY),\n        new PachiPachiPongPong(tileSize * 7, centerY),\n        new HieHiePongPong(centerX, tileSize * 3),\n        new HieHiePongPong(centerX, tileSize * 7),\n        new HieHiePongPong(centerX, centerY)\n    ],\n};\nvar movePattern = {\n    p1_s_a: [315, 135, 180, 0],\n    p1_s_b: [270, 90, 270, 90],\n    p1_s_c: [225, 45, 180, 0],\n    p1_s_d: [180, 0, 180, 0],\n    p1_h_a: [315, 135, 45, 225],\n    p1_h_b: [180, 0, 0, 180],\n    // p1_h_c: [225, 45, 180, 0],\n    p1_h_c: [180, 0, 45, 225],\n    p1_h_d: [270, 90, 270, 90]\n};\nvar getMovePattern = function (patternName) {\n    if (movePattern[patternName]) {\n        return movePattern[patternName];\n    }\n    return [];\n};\nvar DungeonMap = /** @class */ (function () {\n    function DungeonMap(ctx) {\n        this.ctx = ctx;\n        this.fieldPongPong = [];\n    }\n    DungeonMap.prototype.addPongPong = function (p) {\n        this.fieldPongPong.push(p);\n    };\n    DungeonMap.prototype.clearPongPong = function () {\n        this.fieldPongPong.length = 0;\n    };\n    DungeonMap.prototype.applyPattern = function (patternName) {\n        var _this = this;\n        this.clearPongPong();\n        if (phasePattern[patternName]) {\n            phasePattern[patternName].forEach(function (p) {\n                p.reset();\n                _this.addPongPong(p);\n            });\n        }\n    };\n    DungeonMap.prototype.applyMovePattern = function (patternName) {\n        if (movePattern[patternName]) {\n            this.applyMove(movePattern[patternName]);\n        }\n    };\n    DungeonMap.prototype.applyMove = function (moveAngle) {\n        for (var i = 0; i < moveAngle.length; i++) {\n            this.fieldPongPong[i].move(moveAngle[i]);\n        }\n    };\n    DungeonMap.prototype.draw = function (showEffect) {\n        if (showEffect === void 0) { showEffect = true; }\n        this.ctx.save();\n        this.ctx.strokeStyle = \"rgb(60, 60, 60)\";\n        this.ctx.fillStyle = \"rgb(200, 40, 80)\";\n        this.ctx.fillRect(0, 0, tileSize * 10, tileSize * 10);\n        this.ctx.fillStyle = \"white\";\n        this.ctx.fillRect(tileSize, tileSize, tileSize * 8, tileSize * 8);\n        for (var i = 0; i <= 10; i++) {\n            this.ctx.moveTo(0, tileSize * i);\n            this.ctx.lineTo(tileSize * 10, tileSize * i);\n            this.ctx.moveTo(tileSize * i, 0);\n            this.ctx.lineTo(tileSize * i, tileSize * 10);\n        }\n        this.ctx.stroke();\n        this.ctx.restore();\n        var ctx = this.ctx;\n        if (showEffect) {\n            this.fieldPongPong.forEach(function (pp) {\n                pp.drawEffect(ctx);\n            });\n        }\n        this.fieldPongPong.forEach(function (pp) {\n            pp.draw(ctx);\n        });\n    };\n    return DungeonMap;\n}());\n\n\n\n//# sourceURL=webpack://ff14/./src/mapSimulator.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.ts");
/******/ 	
/******/ })()
;